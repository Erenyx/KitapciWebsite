<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cart Page with Promo Code and Item Removal</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="./css/cart.css">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="apple-touch-icon" sizes="180x180" href="./favicon_io/logooooo%20180x180.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon_io/logooooo%2032x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./favicon_io/logooooo16x16.png">
    <link rel="manifest" href="./favicon_io/site.webmanifest">
    <style>
        .promoCode {
            margin: 20px 0;
            text-align: center;
        }

        .promoCode input[type="text"] {
            padding: 8px;
            width: 200px;
            margin-right: 10px;
        }

        .promoCode .btn {
            padding: 8px 15px;
            background-color: #3333CC;
            color: white;
            border: none;
            cursor: pointer;
        }

        .promoCode .btn:hover {
            background-color: #3333CC;
        }
    </style>
</head>
<body>
<!-- header section starts -->
<header class="header">
    <div class="header-1">
        <a href="#" class="logo"> <i class="fas fa-book"></i> Kitapcı </a>
        <form action="" class="search-form">
            <input type="search" name="" placeholder="search here..." id="search-box">
            <label for="search-box" class="fas fa-search"></label>
        </form>
        <div class="icons">
            <div id="search-btn" class="fas fa-search"></div>
            <a href="cart.html" class="fas fa-shopping-cart"></a>
            <div id="login-btn" class="fas fa-user"></div>
        </div>
    </div>
    <div class="header-2">
        <nav class="navbar">
            <a href="./index.html">home</a>
            <a href="#featured">featured</a>
            <a href="./category.html">category</a>
            <a href="#reviews">reviews</a>
            <a href="#blogs">feedback</a>
        </nav>
    </div>
</header>
<!-- header section ends -->

<div class="wrap cf">
    <div class="heading cf">
        <h1>My Cart</h1>
        <a href="#" class="continue">Continue Shopping</a>
    </div>
    <div class="cart">
        <ul class="cartWrap">
            <li class="items odd">
                <div class="infoWrap">
                    <div class="cartSection">
                        <img src="http://lorempixel.com/output/technics-q-c-300-300-4.jpg" alt="" class="itemImg" />
                        <p class="itemNumber">#QUE-007544-002</p>
                        <h3>Nutuk</h3>
                        <p><input type="text" class="qty" placeholder="3"/> x $0.00</p>
                        <p class="stockStatus"> In Stock</p>
                    </div>
                    <div class="prodTotal cartSection">
                        <p>$0.00</p>
                    </div>
                    <div class="cartSection removeWrap">
                        <a href="#" class="remove" onclick="removeItem(this)">x</a>
                    </div>
                </div>
            </li>
            <li class="items even">
                <div class="infoWrap">
                    <div class="cartSection">
                        <img src="http://lorempixel.com/output/technics-q-c-300-300-4.jpg" alt="" class="itemImg" />
                        <p class="itemNumber">#QUE-007544-002</p>
                        <h3>Araba Sevdası</h3>
                        <p><input type="text" class="qty" placeholder="3"/> x $0.00</p>
                        <p class="stockStatus"> In Stock</p>
                    </div>
                    <div class="prodTotal cartSection">
                        <p>$0.00</p>
                    </div>
                    <div class="cartSection removeWrap">
                        <a href="#" class="remove" onclick="removeItem(this)">x</a>
                    </div>
                </div>
            </li>
            <li class="items odd">
                <div class="infoWrap">
                    <div class="cartSection">
                        <img src="http://lorempixel.com/output/technics-q-c-300-300-4.jpg" alt="" class="itemImg" />
                        <p class="itemNumber">#QUE-007544-002</p>
                        <h3>Nutuk</h3>
                        <p><input type="text" class="qty" placeholder="3"/> x $0.00</p>
                        <p class="stockStatus out"> In Stock</p>
                    </div>
                    <div class="prodTotal cartSection">
                        <p>$0.00</p>
                    </div>
                    <div class="cartSection removeWrap">
                        <a href="#" class="remove" onclick="removeItem(this)">x</a>
                    </div>
                </div>
            </li>
            <li class="items even">
                <div class="special">
                    <div class="specialContent">Free gift with purchase!, gift wrap, etc!!</div>
                </div>
            </li>
        </ul>
    </div>

    <div class="promoCode">
        <label for="promo">Have A Promo Code?</label>
        <input type="text" id="promo" name="promo" placeholder="Enter Code" />
        <button type="button" class="btn" onclick="applyPromoCode()">Apply</button>
    </div>

    <div class="subtotal cf">
        <ul>
            <li class="totalRow"><span class="label">Subtotal</span><span class="value">$0.00</span></li>
            <li class="totalRow"><span class="label">Shipping</span><span class="value">$0.00</span></li>
            <li class="totalRow"><span class="label">Tax</span><span the="value">$0.00</span></li>
            <li class="totalRow final"><span the="label">Total</span><span class="value">$0.00</span></li>
            <li class="totalRow"><a href="form-validation.html" class="btn continue">Checkout</a></li>
        </ul>
    </div>
</div>

<nav class="bottom-navbar">
    <a href="#home" class="fas fa-home"></a>
    <a href="#featured" class="fas fa-list"></a>
    <a href="#arrivals" class="fas fa-tags"></a>
    <a href="#reviews" class="fas fa-comments"></a>
    <a href="#feedback" class="fas fa-feedback"></a>
</nav>

<section class="footer">
    <div class="box-container">
        <div class="box">
            <h3>our locations</h3>
            <a href="#"> <i class="fas fa-map-marker-alt"></i> Turkey </a>
            <a href="#"> <i class="fas fa-map-marker-alt"></i> Poland </a>
        </div>

        <div class="box">
            <h3>quick links</h3>
            <a href="./index.html"> <i class="fas fa-arrow-right"></i> home </a>
            <a href="./index.html#featured"> <i class="fas fa-arrow-right"></i> featured </a>
            <a href="#"> <i class="fas fa-arrow-right"></i> Category </a>
            <a href="./index.html#reviews"> <i class="fas fa-arrow-right"></i> reviews </a>
            <a href="./feedback.html"> <i class="fas fa-arrow-right"></i> feedback </a>
        </div>
        <div class="box">
            <h3>contact info</h3>
            <a href="#"> <i class="fas fa-phone"></i> 987654321 </a>
            <a href="#"> <i class="fas fa-envelope"></i> internettechnology@edu.cdv.pl </a>
            <img src="image/Poland_Turkey_Locator.png" class="map" alt="">
        </div>
    </div>

    <div class="share">
        <a href="http://www.facebook.com" class="fab fa-facebook-f"></a>
        <a href="https://twitter.com/" class="fab fa-twitter"></a>
        <a href="http://www.instagram.com" class="fab fa-instagram"></a>
        <a href="https://www.linkedin.com/" class="fab fa-linkedin"></a>
    </div>
    <div class="credit"> created by <span>EREN ONAK , EREN YARDIMCI ,ANIL TAHA TOKLU,SEMİH ARTAN </span> copyright &copy;2024 all rights reserved! </div>
</section>

<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script>
    function applyPromoCode() {
        var promoCode = document.getElementById('promo').value;
        if (promoCode === "KATARZYNA") {
            var subtotal = parseFloat(document.querySelector('.subtotal .value').textContent.substring(1));
            var discount = subtotal * 0.1;
            var newTotal = subtotal - discount;
            document.querySelector('.subtotal .value').textContent = '$' + newTotal.toFixed(2);0
            alert('Promo code applied successfully!');
        } else {
            alert('Invalid promo code!');
        }
    }

    function removeItem(element) {
        var item = element.closest('.items');
        item.remove(); // Remove the item from the DOM
        updateSubtotal(); // Recalculate the subtotal after the item is removed
    }

    function updateSubtotal() {
        var total = 0;
        var items = document.querySelectorAll('.items'); // Select all items in the cart
        items.forEach(function(item) {
            if (item.querySelector('.prodTotal p') && item.querySelector('.qty')) {
                var price = parseFloat(item.querySelector('.prodTotal p').textContent.substring(1));
                var qty = parseInt(item.querySelector('.qty').value);
                total += price * qty; // Calculate total based on remaining items
            }
        });
        document.querySelector('.subtotal .value').textContent = '$' + total.toFixed(2);
    }
</script>
</body>
</html>
